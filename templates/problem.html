{% extends "base.html" %}

{% block title %}Problema {{ problem.id }}{% endblock %}

{% block content %}
<!-- Loader -->
<div id="loader">
    <img src="{{ url_for('static', filename='favicon.png') }}" alt="Loading...">
</div>

<!-- Conținutul principal -->
<div class="container" id="main-content">
    <h1>{{ problem.description }}</h1>

    <!-- Mesaje Flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Detalii problemă -->
    <div class="problem-details">
        <h2>Detalii:</h2>
        <p><strong>Input:</strong> {{ problem.input_data }}</p>
        <p><strong>Output așteptat:</strong> {{ problem.output_data }}</p>
    </div>

    <!-- Form pentru trimitere soluție -->
    <form method="POST" action="{{ url_for('problem', problem_id=problem.id) }}" class="solution-form">
        <textarea name="source_code" placeholder="Scrie codul tău aici..." required></textarea>
        <!-- Butonul mutat acum sub textarea -->
        <button type="submit">Trimite soluția</button>
    </form>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='loader.js') }}"></script>
{% endblock %}
